<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="Screenshot_20230201-091943-924.png">
    <meta name="og:title" content="covidCounter">
    <meta name="og:description" content="COVID-19 Statistics">
    <meta name="og:url" content="https://jrh89.github.io/ImprovedCovidCounter">
    <title>covidCounter</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
</head>
<body>
  <script type="text/javascript" src="script.js" defer></script>
  <h1 class="h1" style="text-align: center; font-size:40px">Global COVID-19 Statistics</h1>
  <p style="text-align: center; font-size: 30px"><i><b>Total Cases Worldwide: </i></b><span id="total-cases"></span></p>
  <p style="text-align: center; font-size:30px"><i><b>Total Deaths Worldwide: </i></b><span id="total-deaths"></span></p>
  <hr>
  <h2 class="h2" style="text-align: center; font-size:40px">COVID-19 Cases by Country</h2>
  <div>
  <div style="overflow:scroll; height:400px; width:100%;">
  <table id="cases-by-country" style="margin: auto">
    <tr>
      <th align="left"><u>Country:</u></th>
      <th align="left"><u>Cases:</u></th>
      <th align="left"><u>Deaths:</u></th>
      <th align="left"><u>Mortality Rate:</u></th>
      <th align="left"><u>New Cases:</u></th>
      <th align="left"><u>New Deaths:</u></th>
    </tr>
  </table>
  </div>
  <hr>
  <br>
  <div style="text-align:center; height:800; width:100%;">

<canvas id="myChart">
  <script>
    // fetch data from the API
    fetch("https://api.covid19api.com/summary")
      .then(response => response.json())
      .then(data => {
        // process data and extract cases and deaths
        const cases = data.Countries.map(c => c.NewConfirmed);
        const deaths = data.Countries.map(c => c.NewDeaths);
        
        // create the chart
        const ctx = document.getElementById("myChart").getContext("2d");
        const chart = new Chart(ctx, {
          type: "bar",
          data: {
            labels: data.Countries.map(c => c.Country),
            datasets: [
              {
                label: "New Cases",
                data: cases,
                backgroundColor: "rgba(255, 99, 132, 0.8)",
                borderColor: "rgb(162, 41, 41)",
                borderWidth: 1
              },
              {
                label: "New Deaths",
                data: deaths,
                backgroundColor: "rgba(54, 162, 235, 0.8)",
                borderColor: "rgba(54, 162, 235, 1)",
                borderWidth: 1
              }
            ]
          },
          options: {
            scales: {
              yAxes: [
                {
                  ticks: {
                    beginAtZero: false
                  }
                }
              ]
            }
          }
        });
      });
  </script>

</div>
<hr>
<br>
<div style="text-align:center; height:800; width:100%;">

<canvas id="myChart1">
<script>
  // fetch data from the API
  fetch("https://api.covid19api.com/summary")
    .then(response => response.json())
    .then(data => {
      // process data and extract cases and deaths
      const cases = data.Countries.map(c => c.TotalConfirmed);
      const deaths = data.Countries.map(c => c.TotalDeaths);
      
      // create the chart
      const ctx = document.getElementById("myChart1").getContext("2d");
      const chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: data.Countries.map(c => c.Country),
          datasets: [
            {
              label: "Total Cases",
              data: cases,
              backgroundColor: "rgba(255, 99, 132, 0.8)",
              borderColor: "rgb(162, 41, 41)",
              borderWidth: 1
            },
            {
              label: "Total Deaths",
              data: deaths,
              backgroundColor: "rgba(54, 162, 235, 0.8)",
              borderColor: "rgba(54, 162, 235, 1)",
              borderWidth: 1
            }
          ]
        },
        options: {
          scales: {
            yAxes: [
              {
                ticks: {
                  beginAtZero: false
                }
              }
            ]
          }
        }
      });
    });
</script>
</div>
<div style="text-align:center; height:800; width:100%;">>
  <canvas id="myChart2"></canvas>
  <script>
    // fetch data from the API
    fetch("https://api.covid19api.com/summary")
      .then(response => response.json())
      .then(data => {
        // get the latest data for all countries
        const latestData = data.Countries[data.Countries.length - 1];

        // extract the cases and deaths for the last 7 days
        const cases = [
          latestData.NewConfirmed,
          data.Countries[data.Countries.length - 2].NewConfirmed,
          data.Countries[data.Countries.length - 3].NewConfirmed,
          data.Countries[data.Countries.length - 4].NewConfirmed,
          data.Countries[data.Countries.length - 5].NewConfirmed,
          data.Countries[data.Countries.length - 6].NewConfirmed,
          data.Countries[data.Countries.length - 7].NewConfirmed
        ];
        const deaths = [
          latestData.NewDeaths,
          data.Countries[data.Countries.length - 2].NewDeaths,
          data.Countries[data.Countries.length - 3].NewDeaths,
          data.Countries[data.Countries.length - 4].NewDeaths,
          data.Countries[data.Countries.length - 5].NewDeaths,
          data.Countries[data.Countries.length - 6].NewDeaths,
          data.Countries[data.Countries.length - 7].NewDeaths
        ];

        // create the chart
        const ctx = document.getElementById("myChart2").getContext("2d");
        const chart = new Chart(ctx, {
          type: "line",
          data: {
            labels: [
              "Today",
              "1 day ago",
              "2 days ago",
              "3 days ago",
              "4 days ago",
              "5 days ago",
              "6 days ago"
            ],
            datasets: [
              {
                label: "Cases",
                data: cases,
                backgroundColor: "rgba(255, 99, 132, 0.2)",
                borderColor: "rgba(255, 99, 132, 1)",
                borderWidth: 1,
                fill: false
              },
              {
                label: "Deaths",
                data: deaths,
                backgroundColor: "rgba(54, 162, 235, 0.2)",
                borderColor: "rgba(54, 162, 235, 1)",
                borderWidth: 1,
                fill: false
              }
            ]
          }
        });
      });
  </script>
</div>
 <div>
  <hr>
      <footer>
            <p style="text-align:center">Data supplied by the Covid19API</p>
            <p style="text-align:center">Published with GithubPages</p>
            
           <p style="text-align:center; font-size:20px; color:goldenrod">Hooker Hill Studios Â© 2023
            </p>     
      </footer>
</body>
</html>
